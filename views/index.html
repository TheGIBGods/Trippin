<!DOCTYPE html>
<html lang="en">
<head>
    <title>Title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/stylesheets/index.css">
</head>
<body>

<div class="container">

    <!-- Navbar -->
    <div class = "row" id="header">
        <div class = "col-lg-1 text-center" id="logo">
            <img src="/images/trippin-logo.png" id="logo_img">
        </div>
        <div class = "col-lg-8 text-center"></div>
        <div class = "col-lg-1 text-center" id="aboutPage">
            <span><h4 class="canBeClicked"><a data-toggle="modal" data-target="#aboutModal"><b>Om</b></a></h4></span>

            <!-- About us modal -->
            <div class="modal fade" id="aboutModal" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Trippin</h4>
                        </div>
                        <div class="popup">
                            <p>Her skal det stå en fantastisk tekst om oss</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Lukk</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End modal -->

        </div>
        <div class = "col-lg-1 text-center canBeClicked" id="trips">
            <span><h4><b>Mine turer</b></h4></span>
            <div class="trips-content">
                Miami
                Vietnam
            </div>
        </div>
        <div class = "col-lg-1 text-center" id="user">
            <span><h4><b>Bruker</b></h4></span>
            <div class="user-content canBeClicked">
                <div>
                    Min turer
                </div>
                <div>
                    Innstillinger
                </div>
                <div>
                    Logg ut
                </div>
            </div>
        </div>
    </div>
    <!-- End navbar -->

    <div class = "row" id="content">

        <!-- Sidebar -->
        <div class = "col-lg-2 text-center" id="sidebar">
            <div class = "row" id="sidebar_content">
                <div class = "row" id="trip_heading">

                    <!-- Trip name -->
                    <div class = "col-lg-8 text-center">
                        <h2>Reisenavn</h2>
                    </div>
                    <div id="userList"></div>

                    <!-- Info "button" -->
                    <div class = "col-lg-3 text-center" id="img_col">
                        <span id="img_helper"><img src="/images/info.png" id="info_img"></span>
                    </div>
                    <div class = "col-lg-1 text-center"></div>
                </div>

                <!-- Category navigation -->
                <div id="sidebar_nav">
                    <p id="hotels" class="categories canBeClicked"><b>Hoteller</b></p>
                    <ul id="hotels_list">
                        <li>Hostell</li>
                        <li>Fancy hotell</li>
                        <li>AirBNB</li>
                    </ul>
                    <p id="restaurants" class="categories canBeClicked"><b>Restauranter</b></p>
                    <ul id="restaurants_list">
                        <li>Hostell</li>
                        <li>Fancy hotell</li>
                        <li>AirBNB</li>
                    </ul>
                    <p id="attractions" class="categories canBeClicked"><b>Attraksjoner</b></p>
                    <ul id="attractions_list">
                        <li>Hostell</li>
                        <li>Fancy hotell</li>
                        <li>AirBNB</li>
                    </ul>
                    <p id="shopping" class="categories canBeClicked"><b>Shopping</b></p>
                    <ul id="shopping_list">
                        <li>Hostell</li>
                        <li>Fancy hotell</li>
                        <li>AirBNB</li>
                    </ul>
                    <p id="other" class="categories canBeClicked"><b>Annet</b></p>
                    <ul id="other_list">
                        <li>Hostell</li>
                        <li>Fancy hotell</li>
                        <li>AirBNB</li>
                    </ul>
                </div>
                <!-- End category navigation -->

            </div>

            <!-- Buttons in sidebar -->
            <div class = "row buttons">
                <button data-toggle="modal" data-target="#myModal" id="save"><b>Lagre punkt</b></button>

                <!-- Modal for save point-->
                <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title">Lagre nytt punkt</h4>
                            </div>

                            <!-- Form for save point -->
                            <form action="/action_page.php" method="post">
                                <div class="popup">
                                    <p><span class="form">Navn:</span>
                                        <input value="Default" type="text" id="name" autofocus required></p>
                                    <p><span class="form">Kategori:</span>
                                        <select>
                                            <option value="volvo">Hotel</option>
                                            <option value="saab">Restaurant</option>
                                            <option value="mercedes">Attraksjoner</option>
                                            <option value="audi">Shopping</option>
                                            <option value="audi">Annet</option>
                                        </select></p>
                                    <p><span class="form">Kommentar:</span>
                                        <input type="text" id="comment"></p>
                                </div>
                            </form>
                            <!-- End form -->

                            <div class="modal-footer">
                                <input type="submit" value="Submit" id="save_button" class="btn btn-default" data-dismiss="modal">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            </div>
                        </div>
                    </div>
                    <!-- End modal -->

                </div>
        </div>
            <div class = "row buttons">
                <button id="trip"><b>Del tur</b></button>
            </div>
            <!-- End buttons in sidebar -->
    </div>
        <!-- End sidebar -->

        <!-- Leaflet map -->
        <div class = "col-lg-10 text-center" id="map">
            <iframe src="/maps/api.html"></iframe>
        </div>
</div>

<script src = "/javascripts/user.js"></script>

<script>
    $(document).ready(function(){

        //Category navigation
        $("#hotels").click(function(){
            $("#hotels_list").slideToggle(200);
        });

        $("#restaurants").click(function(){
            $("#restaurants_list").slideToggle(200);
        });

        $("#attractions").click(function(){
            $("#attractions_list").slideToggle(200);
        });

        $("#shopping").click(function(){
            $("#shopping_list").slideToggle(200);
        });

        $("#other").click(function(){
            $("#other_list").slideToggle(200);
        });
        //end category navigation

        //henter inn users fra app
        $("#trip").click(function(){
                $.ajax({
                    url: 'users',
                    type: "get",
                    complete: function(data){
                        //når alle objektene er hentet inn, gjør dette
                        console.log(data.responseJSON.message);
                        createUserList(data.responseJSON.message);
                    }
                })
        });

        //funksjonen som blir kalt på lenger oppe
        function createUserList(users){
            //lag et element og definer hvilken type det skal ha(h3)
            var user = document.createElement("h3");
            //sett innholdet i elementet
            //hvordan hente username for alle brukere?
            user.innerHTML = users[0].username;
            //plasser elementet i html etter id
            $("#userList").after(user);
        };

    });
</script>

</body>
</html>